"use strict";(self.webpackChunkpikachu_volleyball_p2p_online=self.webpackChunkpikachu_volleyball_p2p_online||[]).push([[293],{4646:(e,t,n)=>{var o=n(6443);const a=document.getElementById("record-btn"),c=document.getElementById("status");let d,i=[];a?a.addEventListener("click",(()=>{const e=document.createElement("input");e.type="file",e.accept=".txt",e.onchange=e=>{const t=e.target.files[0];t&&(c.innerText="리플레이 파일을 분석 중입니다...",o.J.readFile(t))},e.click()})):console.error("오류: HTML에서 'record-btn' 아이디를 가진 버튼을 찾을 수 없습니다."),window.addEventListener("pikaReplayLoaded",(()=>{const e=document.querySelector("#game-canvas-container canvas");if(!e)return void(c.innerText="오류: 게임 캔버스를 찾을 수 없습니다.");i=[];const t=e.captureStream(60);let n={mimeType:"video/webm; codecs=vp9"};MediaRecorder.isTypeSupported(n.mimeType)||(n={mimeType:"video/webm"}),d=new MediaRecorder(t,n),d.ondataavailable=e=>{e.data.size>0&&i.push(e.data)},d.onstop=()=>{c.innerText="변환 완료! 파일 다운로드를 시작합니다.";const e=new Blob(i,{type:"video/webm"}),t=URL.createObjectURL(e),n=document.createElement("a");n.style.display="none",n.href=t,n.download=`pikachu_replay_${Date.now()}.webm`,document.body.appendChild(n),n.click(),setTimeout((()=>{document.body.removeChild(n),window.URL.revokeObjectURL(t)}),100)},d.start(),c.innerText="녹화 중... (다른 탭으로 이동하지 마세요)",console.log("녹화 시작")})),window.addEventListener("pikaReplayFinished",(()=>{d&&"recording"===d.state&&(d.stop(),console.log("녹화 완료"))}))}},e=>{e.O(0,[244,415,476],(()=>e(e.s=4646))),e.O()}]);
//# sourceMappingURL=main_out.286d729b3a4ae2732672.js.map