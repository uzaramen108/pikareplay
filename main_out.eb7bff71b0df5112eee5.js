"use strict";(self.webpackChunkpikachu_volleyball_p2p_online=self.webpackChunkpikachu_volleyball_p2p_online||[]).push([[293],{4646:(e,t,n)=>{var a=n(6443);const o=document.getElementById("replay-upload"),d=document.getElementById("status");let i,l=[];o.addEventListener("change",(e=>{const t=e.target.files[0];t&&(d.innerText="리플레이 파일을 분석 중입니다...",a.J.readFile(t))})),window.addEventListener("pikaReplayLoaded",(()=>{const e=document.querySelector("#game-canvas-container canvas");if(!e)return void(d.innerText="오류: 게임 캔버스를 찾을 수 없습니다.");l=[];const t=e.captureStream(60);let n={mimeType:"video/webm; codecs=vp9"};MediaRecorder.isTypeSupported(n.mimeType)||(n={mimeType:"video/webm"}),i=new MediaRecorder(t,n),i.ondataavailable=e=>{e.data.size>0&&l.push(e.data)},i.onstop=()=>{d.innerText="변환 완료! 파일 다운로드를 시작합니다.";const e=new Blob(l,{type:"video/webm"}),t=URL.createObjectURL(e),n=document.createElement("a");n.style.display="none",n.href=t,n.download=`pikachu_replay_${Date.now()}.webm`,document.body.appendChild(n),n.click(),setTimeout((()=>{document.body.removeChild(n),window.URL.revokeObjectURL(t)}),100)},i.start(),d.innerText="녹화 중... (다른 탭으로 이동하지 마세요)",console.log("녹화 시작")})),window.addEventListener("pikaReplayFinished",(()=>{i&&"recording"===i.state&&(i.stop(),console.log("녹화 완료"))}))}},e=>{e.O(0,[244,415,476],(()=>e(e.s=4646))),e.O()}]);
//# sourceMappingURL=main_out.eb7bff71b0df5112eee5.js.map